

<!DOCTYPE html>
<html>
<head>
<meta charset="EUC-KR">
<style type="text/css">
#mydiv {
  overflow:auto;
}
.Loop{
  position:relative;
  height:100%;
  overflow:auto;
}
div {
  width: 550px;
  height: 200px;
  font-size: 12px;
  line-height: 24px;
  border: 1px solid black;
}

::scrollbar {
	display:none;
}
</style>
<title>Insert title here</title>
</head>
<body >
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<div id = "Button_base">
<form>
<input type ='button' value = 'UP' onclick='speed_up()' 
	style = "border : 10px; solid : #0000; border-radius : 4px; height:12pt; width : 18pt;">
</form>
<form>
<input type ='button' value = 'DOWN' onclick='speed_down()' 
	style = "border : 10px; solid : #0000; border-radius : 4px; height:12pt; width : 18pt;">
</form>
</div>
<div id="myDiv" class="Loop js-loop" style="width: 600px; height: 1000px; border: 1px solid red;overflow:auto;">
	  
	<div id="div1" class="result1">
 	 Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor
 	 in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
 	 111111111111111111111111111111111111
  	</div>
  	<div id="div2" class="result2">
 	 Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor
 	 in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
  	</div>
  	<div id="div3" class="result3">
 	 Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor
 	 in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
  	</div>
  	<div id="div4" class="result4">
 	 Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor
 	 in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
  	</div>
  	<div id="div5" class="result5">
 	 Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor
 	 in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
  	</div>
  	<div id="div6" class="result6">
 	 Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor
 	 in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
  	</div>
  	<div id="div7" class="result7">
 	 Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor
 	 in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
  	</div>
  	<div id="div8" class="result8">
 	 Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor
 	 in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
  	</div>
  	<div id="div9" class="result9">
 	 Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor
 	 in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
  	</div>
  	<div id="div10" class="result10">
 	 Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor
 	 in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
  	</div>
  	<div id="div11" class="result1 is-clone">
 	 Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor
 	 in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
  	</div>
  	<div id="div12" class="result2 is-clone">
 	 Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor
 	 in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
  	</div>
  	<div id="div13" class="result3 is-clone">
 	 Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor
 	 in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
  	</div>
  	<div id="div14" class="result4 is-clone">
 	 Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor
 	 in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
  	</div>
  	<div id="div15" class="result5 is-clone">
 	 Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor
 	 in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
  	</div>
  	<div id="div16" class="result6 is-clone">
 	 Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor
 	 in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
  	</div>
  	<div id="div17" class="result7 is-clone">
 	 Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor
 	 in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
  	</div>
  	<div id="div18" class="result8 is-clone">
 	 Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor
 	 in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
  	</div>
  	<div id="div19" class="result9 is-clone">
 	 Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor
 	 in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
  	</div>
  	<div id="div20" class="result10 is-clone">
 	 Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor
 	 in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
  	</div>
  	
</div>

<script type="text/javascript">
	
var doc = window.document,
context = doc.getElementsByClassName('js-loop')[0],
clones = context.getElementsByClassName('is-clone'),
disableScroll,
scrollHeight,
scrollPos,
clonesHeight,
i;
function getScrollPos() {
	  return (context.pageYOffset || context.scrollTop) - (context.clientTop || 0);
	}

	function setScrollPos(pos) {
	  context.scrollTop = pos;
	}

	function getClonesHeight() {
	  clonesHeight = 0;
	  i = 0;

	  for (i; i < clones.length; i += 1) {
	    clonesHeight = clonesHeight + clones[i].offsetHeight;
	    //alert(clonesHeight);
	  }

	  return clonesHeight;
	}

	function reCalc() {
	  scrollPos = getScrollPos();
	  scrollHeight = context.scrollHeight;
	  clonesHeight = getClonesHeight();

	  if (scrollPos <= 0) {
	    setScrollPos(1); // Scroll 1 pixel to allow upwards scrolling
	  }
	}

	// Calculate variables
	window.requestAnimationFrame(reCalc);

	function scrollUpdate() {
	  if (!disableScroll) {
	    scrollPos = getScrollPos();

	    if (clonesHeight + scrollPos >= scrollHeight) {
	      // Scroll to the top when you’ve reached the bottom
	      setScrollPos(1); // Scroll down 1 pixel to allow upwards scrolling
	      disableScroll = true;
	    } else if (scrollPos <= 0) {
	      // Scroll to the bottom when you reach the top
	      setScrollPos(scrollHeight - clonesHeight);
	      disableScroll = true;
	    }
	  }

	  if (disableScroll) {
	    // Disable scroll-jumping for a short time to avoid flickering
	    window.setTimeout(function () {
	      disableScroll = false;
	    }, 40);
	  }
	}

	context.addEventListener('scroll', function () {
	  window.requestAnimationFrame(scrollUpdate);
	}, false);

	window.addEventListener('resize', function () {
	  window.requestAnimationFrame(reCalc);
	}, false);





	// Just for the demo: Center the middle block on page load
	window.onload = function () {
	  setScrollPos(Math.round(clones[0].getBoundingClientRect().top + getScrollPos() - (window.innerHeight - clones[0].offsetHeight) / 2));
	};
		var elem = document.getElementById("myDiv");
		if (elem.addEventListener){
//			elem.addEventListener('onmousewheel', wheel, false);
		elem.addEventListener('scroll',scrollUpdate,false);
		}
	
//	if (window.addEventListener)
//		window.addEventListener('onmousewheel', wheel2, false);
//	window.onmousewheel = wheel2;
		//elem.onmousewheel = wheel;
	
		function wheel(event) {
		  var delta = 0;
		  //alert(event.wheelDelta);
		  if (event.wheelDelta){
			  delta = event.wheelDelta / 120;
			  //alert(event.wheelDelta);
		  } else if (event.detail){
			  delta = -event.detail / 3;
			  alert(event.detail);
		  }
		  handle(delta,event);
//		  if(event.preventDefault)
//			  event.preventDefault();
		  event.returnValue = false;
		}
	
		function handle(delta,event) {
		
			//시간t
	  		var time = 1000;
			//div7에대한 위치
	  		var distance = $('#div7').position();
	  		//var distance2 = $('#div20').position();
	  		//거리 얼마나 움직일지
	 	 	var dist = 100;
	 	 	
	  		 //alert($('#myDiv').scrollTop());
//	  		 //alert(distance.top);
	  		if( $('#myDiv').scrollTop() < distance.top + 500 && $('#myDiv').scrollTop() > distance.top - 500){	
	  			
	  			event.preventdefault();
	  			
	  			$('#myDiv').stop().animate({
	  				//scrollTop : $('#div' +id).scrollTop() - (dist * delta)
	  				scrollTop : $('#myDiv').scrollTop() - $('#div7').position() - (dist * delta)
	  	  		},time);
	  		}
//	  		alert(distance2.top);
//			if( $('#myDiv').scrollTop() < distance2.top + 150 && $('#myDiv').scrollTop() > distance2.top - 150){	 
//		  		$('#myDiv').stop().animate({
//		  			//scrollTop : $('#div' +id).scrollTop() - (dist * delta)
//		  			scrollTop : $('#myDiv').scrollTop() - (dist * delta)
//				},time);
//		  	}

//			else{
//		  		$('#myDiv').stop().animate({
		  			//scrollTop : $('#div' +id).scrollTop() - (dist * delta)
//		  			scrollTop : $('#myDiv').scrollTop()
//				},10);
//		  	}	  		
	 		 
	 	  
		}
</script>

</body>
</html>